{"version":3,"file":"array.observe.js","sourceRoot":"","sources":["../../src/array.observe.js"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * \r\n * Package: extenders\r\n * Author: Ganesh B\r\n * Description: Node module for Array, Object, String, Decorator extention Utils like for Python and more for Node.js\r\n * Install: npm i extenders --save\r\n * Github: https://github.com/ganeshkbhat/jsextenders\r\n * npmjs Link: https://www.npmjs.com/package/extenders\r\n * File: src/array.observe.js\r\n * File Description: \r\n * \r\n * \r\n*/\r\n\r\n/* eslint no-console: 0 */\r\n\r\n'use strict';\r\n\r\nmodule.exports = Object.observe && !Array.observe && (function (O, A) {\r\n    \"use strict\";\r\n\r\n    var notifier = O.getNotifier,\r\n        perform = \"performChange\",\r\n        original = \"_original\",\r\n        type = \"splice\";\r\n\r\n    var wrappers = {\r\n        push: function push(item) {\r\n            var args = arguments,\r\n                ret = push[original].apply(this, args);\r\n\r\n            notifier(this)[perform](type, function () {\r\n                return {\r\n                    index: ret - args.length,\r\n                    addedCount: args.length,\r\n                    removed: []\r\n                };\r\n            });\r\n\r\n            return ret;\r\n        },\r\n        unshift: function unshift(item) {\r\n            var args = arguments,\r\n                ret = unshift[original].apply(this, args);\r\n\r\n            notifier(this)[perform](type, function () {\r\n                return {\r\n                    index: 0,\r\n                    addedCount: args.length,\r\n                    removed: []\r\n                };\r\n            });\r\n\r\n            return ret;\r\n        },\r\n        pop: function pop() {\r\n            var len = this.length,\r\n                item = pop[original].call(this);\r\n\r\n            if (this.length !== len)\r\n                notifier(this)[perform](type, function () {\r\n                    return {\r\n                        index: this.length,\r\n                        addedCount: 0,\r\n                        removed: [item]\r\n                    };\r\n                }, this);\r\n\r\n            return item;\r\n        },\r\n        shift: function shift() {\r\n            var len = this.length,\r\n                item = shift[original].call(this);\r\n\r\n            if (this.length !== len)\r\n                notifier(this)[perform](type, function () {\r\n                    return {\r\n                        index: 0,\r\n                        addedCount: 0,\r\n                        removed: [item]\r\n                    };\r\n                }, this);\r\n\r\n            return item;\r\n        },\r\n        splice: function splice(start, deleteCount) {\r\n            var args = arguments,\r\n                removed = splice[original].apply(this, args);\r\n\r\n            if (removed.length || args.length > 2)\r\n                notifier(this)[perform](type, function () {\r\n                    return {\r\n                        index: start,\r\n                        addedCount: args.length - 2,\r\n                        removed: removed\r\n                    };\r\n                }, this);\r\n\r\n            return removed;\r\n        }\r\n    };\r\n\r\n    for (var wrapper in wrappers) {\r\n        wrappers[wrapper][original] = A.prototype[wrapper];\r\n        A.prototype[wrapper] = wrappers[wrapper];\r\n    }\r\n\r\n    A.observe = function (object, handler) {\r\n        return O.observe(object, handler, [\"add\", \"update\", \"delete\", type]);\r\n    };\r\n    A.unobserve = O.unobserve;\r\n\r\n})(Object, Array);\r\n\r\n"]}